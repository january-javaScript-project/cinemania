(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const ge="cinemania-theme",V="dark",M="light";function ce(e){const t=document.body;t.classList.remove("dark-theme","light-theme"),e===M?t.classList.add("light-theme"):t.classList.add("dark-theme")}function qe(){return localStorage.getItem(ge)===M?M:V}function He(e){localStorage.setItem(ge,e)}function Pe(){const e=document.querySelector(".theme-toggle");e&&(ce(qe()),e.addEventListener("click",()=>{const n=(document.body.classList.contains("light-theme")?M:V)===M?V:M;ce(n),He(n)}))}function Re(){const e=document.querySelector(".burger-btn"),t=document.querySelector("[data-menu]");if(!e||!t)return;const n=()=>t.classList.remove("is-hidden"),o=()=>t.classList.add("is-hidden");e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),t.classList.contains("is-hidden")?n():o()}),t.addEventListener("click",r=>{r.target===t&&o()}),t.addEventListener("click",r=>{r.target.closest(".mobile-menu-link")&&o()}),window.addEventListener("keydown",r=>{r.key==="Escape"&&o()})}function De(){Pe(),Re()}const g="6e2b9ceff6313b472d60eed2769db38a",h="https://api.themoviedb.org/3",Ue="https://image.tmdb.org/t/p/w500";async function Ne(){try{const e=await fetch(`${h}/trending/movie/week?api_key=${g}`);if(!e.ok)throw new Error("Veri çekilemedi!");return(await e.json()).results}catch(e){return console.error("Hata:",e),[]}}async function Fe(e){try{return await(await fetch(`${h}/movie/${e}?api_key=${g}`)).json()}catch(t){console.error("Detay Hatası:",t)}}async function Ye(){try{const e=await fetch(`${h}/trending/movie/day?api_key=${g}`);if(!e.ok)throw new Error("Veri çekilemedi!");return(await e.json()).results}catch(e){return console.error("Hata:",e),[]}}const he=document.getElementById("movie-grid");async function ze(){if(he)try{const e=await Ne();e&&e.length>0&&Ge(e.slice(0,3))}catch(e){console.error("Trend verileri yüklenirken hata oluştu:",e)}}function Ge(e){he.innerHTML=e.map(t=>{const n=t.release_date?t.release_date.split("-")[0]:"2023";return`
        <div class="weekly-trends__item">
            <div class="weekly-trends__card">
                <img src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}" loading="lazy">
                
                <div class="weekly-trends__info">
                    <div class="weekly-trends__text">
                        <div class="weekly-trends__movie-title">${t.title}</div>
                        <div class="weekly-trends__movie-meta">Drama, Action | ${n}</div>
                    </div>
                    <div class="weekly-trends__stars" aria-label="Rating">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
                </div>
            </div>
        </div>
    `}).join("")}ze();const ve="c43a3c633ad33367e1cd1eb02f47a173",be="https://api.themoviedb.org/3",Le="https://image.tmdb.org/t/p/original",we="myLibrary",U=document.getElementById("upcoming-wrapper"),x=document.getElementById("modalBackdrop"),je=document.getElementById("modalContent"),Oe=document.getElementById("modalClose");let te={};async function Ve(){try{await Je(),await We()}catch(e){console.error("Hata:",e),U.innerHTML="<p>Film bilgileri yüklenemedi.</p>"}}function Ke(){if(U)return Ve()}async function Je(){(await(await fetch(`${be}/genre/movie/list?api_key=${ve}`)).json()).genres.forEach(n=>{te[n.id]=n.name})}async function We(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=`${t}-${n}-01`,s=(await(await fetch(`${be}/discover/movie?api_key=${ve}&primary_release_date.gte=${o}&sort_by=popularity.desc&include_adult=false&include_video=false`)).json()).results;if(s.length>0){const B=Math.floor(Math.random()*s.length);Qe(s[B])}else U.innerHTML="<p>Bu ay için vizyon filmi bulunamadı.</p>"}function Qe(e){const t=e.genre_ids.slice(0,2).map(s=>te[s]).join(", "),n=new Date(e.release_date).toLocaleDateString("tr-TR"),o=$(e.id),r=`
    <div class="upcoming-poster-container" id="posterClick">
      <img src="${Le}${e.backdrop_path||e.poster_path}" alt="${e.title}">
    </div>

    <div class="upcoming-info-container">
      <h3 class="upcoming-movie-title" id="titleClick">${e.title}</h3>
      
      <div class="upcoming-meta-grid">
        <span class="meta-label">Release date</span>
        <span class="meta-value highlight-date">${n}</span>

        <span class="meta-label">Vote / Votes</span>
        <span class="meta-value">
          <span class="vote-badge">${e.vote_average.toFixed(1)}</span> / <span class="vote-count">${e.vote_count}</span>
        </span>

        <span class="meta-label">Popularity</span>
        <span class="meta-value">${e.popularity.toFixed(1)}</span>

        <span class="meta-label">Genre</span>
        <span class="meta-value">${t}</span>
      </div>

      <div class="upcoming-about">
        <h4 class="upcoming-about-title">ABOUT</h4>
        <p class="upcoming-overview">${e.overview}</p>
      </div>

      <button class="btn-library ${o?"remove":"add"}" id="libraryBtn">
        ${o?"Remove from my library":"Add to my library"}
      </button>
    </div>
  `;U.innerHTML=r,document.getElementById("posterClick").addEventListener("click",()=>de(e)),document.getElementById("titleClick").addEventListener("click",()=>de(e));const i=document.getElementById("libraryBtn");i.addEventListener("click",()=>{Ee(e);const s=$(e.id);K(i,s)})}function K(e,t){t?(e.textContent="Remove from my library",e.classList.remove("add"),e.classList.add("remove")):(e.textContent="Add to my library",e.classList.remove("remove"),e.classList.add("add"))}function ke(){return JSON.parse(localStorage.getItem(we))||[]}function $(e){return ke().some(t=>t.id===e)}function Ee(e){let t=ke();$(e.id)?t=t.filter(n=>n.id!==e.id):t.push(e),localStorage.setItem(we,JSON.stringify(t))}function de(e){const t=e.genre_ids.map(r=>te[r]).join(", "),n=$(e.id);je.innerHTML=`
    <img src="${Le}${e.poster_path}" class="modal-poster" alt="${e.title}">
    <div class="modal-info">
      <h3 style="font-size:24px; text-transform:uppercase; margin-bottom:10px;">${e.title}</h3>
      
      <div style="display:grid; grid-template-columns: auto 1fr; gap: 5px 20px; margin-bottom:15px; font-size:14px;">
        <span>Vote / Votes</span> <span>${e.vote_average.toFixed(1)} / ${e.vote_count}</span>
        <span>Popularity</span> <span>${e.popularity.toFixed(1)}</span>
        <span>Genre</span> <span>${t}</span>
      </div>

      <h5 style="margin-bottom:5px;">ABOUT</h5>
      <p style="font-size:14px; line-height:1.5; color:#555; margin-bottom:20px;">${e.overview}</p>

      <button class="btn-library ${n?"remove":"add"}" id="modalLibBtn">
        ${n?"Remove from my library":"Add to my library"}
      </button>
    </div>
  `;const o=document.getElementById("modalLibBtn");o.addEventListener("click",()=>{Ee(e),K(o,$(e.id));const r=document.getElementById("libraryBtn");r&&K(r,$(e.id))}),x.classList.add("is-open"),document.body.style.overflow="hidden"}function ne(){x.classList.remove("is-open"),document.body.style.overflow=""}Oe.addEventListener("click",ne);x.addEventListener("click",e=>{e.target===x&&ne()});document.addEventListener("keydown",e=>{e.key==="Escape"&&x.classList.contains("is-open")&&ne()});function Ze(){let e="",t="",n=!1,o={};const r=document.getElementById("moviesContainer"),i=document.getElementById("emptyMessage");if(!r||!i)return;const s=document.querySelector(".search-input"),B=document.getElementById("clearSearch"),I=document.querySelector(".search-btn"),p=document.getElementById("yearBtn"),u=document.getElementById("yearDropdown"),N=document.getElementById("selectedYear");sessionStorage.getItem("scrollCatalog")==="true"&&(sessionStorage.removeItem("scrollCatalog"),setTimeout(()=>{const l=document.querySelector(".search-row");if(!l)return;const a=l.getBoundingClientRect().top+window.scrollY-20;window.scrollTo({top:a,behavior:"smooth"})},300));const k=document.querySelector(".search-input");if(!k)return;const C=k.parentElement;if(!C)return;const v=C.querySelector(".search-clear-btn");v&&(v.style.display="none");const ie=B||v;function Jt(l,a){}fetch(`${h}/genre/movie/list?api_key=${g}&language=en-US`).then(l=>l.json()).then(l=>{(l.genres||[]).forEach(a=>o[a.id]=a.name)}).catch(l=>console.error("genre list error:",l)),C.addEventListener("click",l=>{const a=l.target.closest(".search-clear-btn");a&&(k.value="",k.focus(),a.style.display="none")}),C.addEventListener("input",l=>{if(l.target!==k)return;const a=C.querySelector(".search-clear-btn");a&&(a.style.display=k.value?"block":"none")}),v&&v.addEventListener("click",()=>{s.value="",s.focus(),v.style.display="none"});function F(l){if(!u||!p)return;u.classList.toggle("open",l),p.classList.toggle("open",l),u.style.transform=l?"scaleY(1)":"scaleY(0)",u.style.opacity=l?"1":"0",u.style.pointerEvents=l?"auto":"none";const a=p.querySelector(".icon-chevron");a&&(a.style.transform=l?"rotate(180deg)":"rotate(0deg)")}p&&u&&(p.addEventListener("click",l=>{l.stopPropagation();const a=!u.classList.contains("open");F(a)}),u.addEventListener("click",l=>{l.stopPropagation(),l.target.tagName==="LI"&&(e=l.target.dataset.year||"",N.textContent=l.target.textContent,F(!1))})),document.addEventListener("click",l=>{!u||!p||u.classList.contains("open")&&!u.contains(l.target)&&!p.contains(l.target)&&F(!1)}),I&&I.addEventListener("click",()=>{if(t=s.value.trim(),n=!0,!t&&!e){n=!1,Y(1);return}Ie(1)}),ie&&ie.addEventListener("click",function(){s.value="",v&&(v.style.display="none"),N&&(N.textContent="Year"),t="",e="",n=!1,Y(1)});function Ie(l=1){let a="";t?(a=`${h}/search/movie?api_key=${g}&query=${encodeURIComponent(t)}&page=${l}`,e&&(a+=`&year=${e}`)):(a=`${h}/discover/movie?api_key=${g}&page=${l}`,e&&(a+=`&primary_release_year=${e}`)),fetch(a).then(c=>c.json()).then(c=>{ae(c.results||[]),c.total_results}).catch(c=>console.error("searchMovies error:",c))}Y(1);function Y(l=1){i.style.display="none",fetch(`${h}/trending/movie/week?api_key=${g}&page=${l}`).then(a=>a.json()).then(a=>{ae(a.results||[]),a.total_results}).catch(a=>console.error("fetchTrending error:",a))}function ae(l){if(r.innerHTML="",!l.length){i.style.display=n?"block":"none";return}i.style.display="none",l.slice(0,20).forEach(a=>{var se,le;const c=document.createElement("a");c.className="movie-card",c.setAttribute("data-id",a.id),c.setAttribute("data-movie-id",a.id),c.href=`catalog.html?id=${a.id}`;const Ce=a.poster_path?`${Ue}${a.poster_path}`:"https://placehold.co/600x400",Te=((se=a.release_date)==null?void 0:se.slice(0,4))||"N/A",xe=((le=a.genre_ids)==null?void 0:le.map(q=>o[q]).filter(Boolean).slice(0,2).join(", "))||"Unknown";c.innerHTML=`
        <img src="${Ce}" alt="${a.title||"Movie"}">
        <div class="movie-card-overlay">
          <div class="movie-card-text">
            <h3>${a.title||"Untitled"}</h3>
            <div class="movie-meta">
              <span class="movie-genre">${xe}</span>
              <span class="movie-year">| ${Te}</span>
            </div>
          </div>
          <div class="movie-rating-stars"></div>
        </div>
      `,c.addEventListener("click",q=>{q.preventDefault(),q.stopPropagation();const Ae=c.dataset.movieId;et(Ae)}),r.appendChild(c),Xe(c.querySelector(".movie-rating-stars"),a.vote_average)})}}function Xe(e,t){if(!e)return;e.innerHTML="";const n=Math.floor(t/2),o=t%2>=1;for(let r=0;r<5;r++){let i="empty";r<n?i="full":r===n&&o&&(i="half");const s=`star-${Math.random().toString(36).slice(2)}`;e.innerHTML+=`
        <svg viewBox="0 0 32 32" width="14" height="14">
        <defs>
          <linearGradient id="${s}-full" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#F84119"/>
            <stop offset="100%" stop-color="#F89F19"/>
          </linearGradient>
          <linearGradient id="${s}-half" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#F84119"/>
            <stop offset="50%" stop-color="#F89F19"/>
            <stop offset="50%" stop-color="#bfbfbf"/>
            <stop offset="100%" stop-color="#bfbfbf"/>
          </linearGradient>
        </defs>
        <path
          d="M24.622 30L16 24.173 7.378 30l3.135-9.286L2.388 15.14h10.024L16 5.827l3.588 9.313h10.024l-8.125 5.569z"
          fill="${i==="full"?`url(#${s}-full)`:i==="half"?`url(#${s}-half)`:"#bfbfbf"}"
        />
      </svg>
        `}}const et=e=>typeof window.openMoviePopup=="function"?(window.openMoviePopup(e),!0):typeof openMoviePopup=="function"?(openMoviePopup(e),!0):(console.warn("openMoviePopup bulunamadı. Popup modülü sayfaya yüklenmemiş olabilir."),!1);function tt(e="Loading..."){const t=document.createElement("div");t.className="app-loader",t.setAttribute("role","status"),t.setAttribute("aria-live","polite");const n=document.createElement("div");n.className="app-loader__spinner",n.setAttribute("aria-hidden","true");const o=document.createElement("span");return o.className="app-loader__text",o.textContent=e,t.appendChild(n),t.appendChild(o),t}const Me="my-library";let R,y,z,m,J,W,E,Q;function nt(){y=document.querySelector(".popup-modal-overlay"),R=document.querySelector(".popup-loader"),z=document.querySelector(".popup-modal-close"),m=document.querySelector(".popup-add-library-btn"),J=document.querySelector(".popup-movie-poster img"),W=document.querySelector(".popup-movie-title"),E=document.querySelectorAll(".popup-movie-info .popup-value"),Q=document.querySelector(".popup-movie-description"),y&&(z&&z.addEventListener("click",G),y.addEventListener("click",e=>{e.target===y&&G()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&y.classList.contains("is-active")&&G()}))}async function A(e){var t;if(!(!y||!R)){y.classList.add("is-active"),R.classList.remove("is-hidden");try{const n=await Fe(e);if(J&&(J.src=n.poster_path?`https://image.tmdb.org/t/p/w500${n.poster_path}`:""),W&&(W.textContent=n.title||"Unknown title"),E.length>=3){if(n.vote_average){const o=n.vote_average.toFixed(1),r=n.vote_count??0;E[0].innerHTML=`
          <span class="popup-pill">${o}</span>
          <span class="popup-pill-sep">/</span>
          <span class="popup-pill">${r}</span>
        `}else E[0].textContent="N/A";E[1].textContent=n.popularity?n.popularity.toFixed(1):"N/A",E[2].textContent=(t=n.genres)!=null&&t.length?n.genres.map(o=>o.name).join(", "):"Unknown"}if(Q&&(Q.textContent=n.overview||"No description available."),m){const o=_e(n.id);m.textContent=o?"Remove from my library":"Add to my library",m.classList.toggle("is-remove",o),m.onclick=()=>rt(n)}}catch(n){console.error("Movie details error:",n)}finally{R.classList.add("is-hidden")}}}function G(){y&&y.classList.remove("is-active")}function $e(){return JSON.parse(localStorage.getItem(Me))||[]}function _e(e){return $e().some(t=>t.id===e)}function rt(e){if(!m)return;let t=$e();_e(e.id)?(t=t.filter(n=>n.id!==e.id),m.textContent="Add to my library",m.classList.remove("is-remove")):(t.push(e),m.textContent="Remove from my library",m.classList.add("is-remove")),localStorage.setItem(Me,JSON.stringify(t))}document.addEventListener("DOMContentLoaded",nt);typeof window<"u"&&(window.openMoviePopup=A);const ot="https://image.tmdb.org/t/p/original",d=e=>document.getElementById(e);async function it(){dt();try{const e=await Ye();if(e&&e.length>0){const t=e[Math.floor(Math.random()*e.length)];at(t)}else pe()}catch{pe()}finally{ut()}}function at(e){const t=d("hero"),n=d("hero-title"),o=d("hero-description"),r=d("watch-trailer"),i=d("more-details"),s=d("hero-rating");if(t&&(t.classList.remove("hero-default"),t.style.backgroundImage=`url(${ot}${e.backdrop_path})`),n&&(n.innerText=e.title),o&&(o.innerText=e.overview.slice(0,150)+"..."),r&&(r.onclick=()=>st(e.id)),i&&(i.onclick=()=>{typeof A=="function"?A(e.id):typeof window<"u"&&typeof window.openMoviePopup=="function"?window.openMoviePopup(e.id):console.log("Details modal is not ready.")}),s){const B=Math.round(e.vote_average/2);let I="";for(let p=1;p<=5;p++){const u=p<=B?"star-filled":"star-empty";I+=`<span class="star-item ${u}"></span>`}s.innerHTML=I}}async function st(e){try{const o=(await(await fetch(`${h}/movie/${e}/videos?api_key=${g}&language=en-US`)).json()).results.find(r=>r.type==="Trailer"&&r.site==="YouTube");o?lt(o.key):ue()}catch(t){console.error("Fragman yüklenirken hata oluştu:",t),ue()}}function ue(){const e=d("error-popup");e&&e.classList.add("show")}function lt(e){const t=d("video-modal"),n=d("trailer-video");t&&n&&(n.src=`https://www.youtube.com/embed/${e}?autoplay=1`,t.classList.add("show"))}function ct(){const e=d("video-modal"),t=d("error-popup"),n=d("trailer-video"),o=document.querySelector(".close-video");o&&e&&n&&(o.onclick=()=>{e.classList.remove("show"),n.src=""});const r=document.querySelector("#error-popup .close-btn");r&&t&&(r.onclick=()=>{t.classList.remove("show")}),document.addEventListener("keydown",i=>{i.key==="Escape"&&(e&&n&&(e.classList.remove("show"),n.src=""),t&&t.classList.remove("show"))}),window.onclick=i=>{i.target===e&&(e.classList.remove("show"),n.src=""),i.target===t&&t.classList.remove("show")}}function pe(){const e=d("hero"),t=d("hero-title"),n=d("hero-description"),o=d("hero-rating"),r=document.querySelector(".hero-buttons");e&&(e.classList.add("hero-default"),e.style.backgroundImage="url(/src/assets/default-cover.png)"),t&&(t.innerText="Let's Make Your Own Cinema"),n&&(n.innerText="Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience."),o&&(o.innerHTML=""),r&&(r.innerHTML='<a class="btn btn-orange" href="/catalog.html">Get Started</a>')}function dt(){const e=document.querySelector(".hero-content");if(!e||e.querySelector(".app-loader"))return;const t=tt("Loading...");t.id="hero-loader",e.prepend(t)}function ut(){const e=document.getElementById("hero-loader");e&&e.remove()}async function pt(){ct(),await it()}const S=document.querySelector(".library-list"),b=document.querySelector(".load-more-btn"),mt=document.querySelector(".library-empty"),me=document.querySelector(".library-controls"),L=document.getElementById("genreBtn"),f=document.getElementById("genreMenu"),fe=document.getElementById("genreText"),Z=document.querySelector(".library-loader"),D=document.querySelector(".library-error"),ft=9;let re=1,w=[],T=[];function yt(){D&&D.classList.remove("hidden")}function gt(){D&&D.classList.add("hidden")}function ht(e){var r,i;let t=[];Array.isArray(e.genres)&&e.genres.length&&(t=e.genres.map(s=>s.name));const n=t.length>0?t.slice(0,2).join(", "):"Unknown",o=t.length>0?t[0].toLowerCase():"unknown";return{...e,year:((r=e.release_date)==null?void 0:r.slice(0,4))||e.year||"2023",rating:e.rating||((i=e.vote_average)==null?void 0:i.toFixed(1))||"7.0",genre:n,_genreKey:o}}function vt(e){const t=Number(e)/2,n=Math.round(t),o=5-n;let r="";for(let i=0;i<n;i++)r+='<img class="star" src="/assets/star-icon-filled.svg" alt="star" />';for(let i=0;i<o;i++)r+='<img class="star" src="/assets/star-icon.svg" alt="star" />';return r}const bt="my-library";function Lt(){return JSON.parse(localStorage.getItem(bt))||[]}function wt(e){const t=vt(e.rating);return`
    <li class="library-movie-card" data-id="${e.id}">
      <div class="card-poster">
        <img
          src="https://image.tmdb.org/t/p/w500${e.poster_path}"
          alt="${e.title}"
        />

        <div class="card-overlay">
          <h3 class="movie-title">${e.title.toUpperCase()}</h3>

          <div class="card-bottom">
            <p class="movie-meta">
              ${e.genre} | ${e.year||"2024"}
            </p>

            <div class="movie-rating">
              ${t}
            </div>
          </div>
        </div>
      </div>
    </li>
  `}function kt(e){S.innerHTML=e.map(wt).join("")}function Et(){return w.slice(0,re*ft)}function Mt(e){const t=e.length===0;mt.classList.toggle("hidden",!t),S.classList.toggle("hidden",t),me&&me.classList.remove("hidden"),b&&b.classList.toggle("hidden",t)}function oe(){const e=Et();kt(e),Mt(w),b&&(e.length<w.length?b.classList.remove("hidden"):b.classList.add("hidden"))}b&&b.addEventListener("click",()=>{re++,oe()});L&&f&&L.addEventListener("click",()=>{f.classList.toggle("open"),L.classList.toggle("active")});function $t(){_t(),gt();try{setTimeout(()=>{T=Lt().map(ht),w=[...T],Bt(T),oe(),ye()},800)}catch(e){console.error(e),ye(),yt()}}function _t(){Z&&(Z.classList.remove("hidden"),S.classList.add("hidden"))}function ye(){Z.classList.add("hidden"),S.classList.remove("hidden")}function St(){document.querySelector(".library-section")&&$t()}function Bt(e){if(!f)return;const t=new Map;e.forEach(n=>{!n.genre||n.genre==="Unknown"||n.genre.split(",").forEach(o=>{const r=o.trim(),i=r.toLowerCase();t.has(i)||t.set(i,r)})}),f.innerHTML=`
    <li data-genre="all" class="active">All Genres</li>
  `,t.forEach((n,o)=>{f.innerHTML+=`
      <li data-genre="${o}">${n}</li>
    `}),It()}function It(){if(!f||!fe||!L)return;const e=f.querySelectorAll("li");e.forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.genre;e.forEach(o=>o.classList.remove("active")),t.classList.add("active"),f.classList.remove("open"),L.classList.remove("active"),fe.textContent=t.textContent,n==="all"?w=[...T]:w=T.filter(o=>o.genre.toLowerCase().includes(n)),re=1,oe()})})}document.addEventListener("click",e=>{!f||!L||e.target.closest(".genre-select")||(f.classList.remove("open"),L.classList.remove("active"))});function Ct(e){console.log("TIKLANAN FILM:",e)}S&&S.addEventListener("click",e=>{const t=e.target.closest(".library-movie-card");if(!t)return;const n=t.dataset.id,o=w.find(r=>String(r.id)===n);o&&Ct(o)});function Tt(){}const xt="https://image.tmdb.org/t/p/original",Se="../img/library-hero-image.jpg",_=document.querySelector(".my-library-hero__loader");function At(){_==null||_.classList.remove("is-hidden")}function qt(){_==null||_.classList.add("is-hidden")}function X(){const e=document.getElementById("my-library-error-popup");e&&e.classList.add("show")}function j(){const e=document.getElementById("my-library-error-popup");e&&e.classList.remove("show")}function Ht(){const e=localStorage.getItem("theme")||"dark";document.body.classList.remove("dark-theme","light-theme"),document.body.classList.add(`${e}-theme`)}function Pt(e){const t=document.getElementById("my-library-video-modal"),n=document.getElementById("my-library-trailer-video");t&&n&&(n.src=`https://www.youtube.com/embed/${e}?autoplay=1`,t.classList.remove("modal-hidden"))}function Rt(e){if(typeof Tt=="function")try{const t=document.getElementById("video-modal");if(t&&!t.classList.contains("modal-hidden"))return}catch(t){console.warn("External trailer popup failed, using My Library popup:",t)}Pt(e)}function O(){const e=document.getElementById("my-library-video-modal"),t=document.getElementById("my-library-trailer-video");e&&t&&(e.classList.add("modal-hidden"),t.src="")}async function Be(){try{const e=Dt();if(e&&e.length>0){const t=Ut(e);Ft(t)}else ee()}catch(e){console.error("Error initializing my library hero:",e),ee()}}function Dt(){try{const e=localStorage.getItem("my-library");return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}}function Ut(e){if(!e||e.length===0)return null;const t=Math.floor(Math.random()*e.length);return e[t]}function Nt(e){const t=e/2,n=Math.floor(t),o=t%1>=.3,r=5-n-(o?1:0);let i="";for(let s=0;s<n;s++)i+='<span class="star filled">★</span>';o&&(i+='<span class="star half">★</span>');for(let s=0;s<r;s++)i+='<span class="star empty">★</span>';return i}function Ft(e){var s;if(!e){ee();return}const t=document.querySelector(".my-library-hero"),n=document.querySelector(".my-library-hero__overlay");if(!t||!n){console.error("Hero elements not found!");return}const o=e.backdrop_path?`${xt}${e.backdrop_path}`:Se;t.style.backgroundImage=`url('${o}')`;const r=((s=e.overview)==null?void 0:s.length)>180?`${e.overview.slice(0,180)}...`:e.overview||"No description available.",i=e.vote_average?Nt(e.vote_average):"";n.innerHTML=`
    <h1 class="my-library-hero__title">${e.title}</h1>
    ${i?`<div class="my-library-hero__rating">${i}</div>`:""}
    <p class="my-library-hero__description">${r}</p>
    <div class="my-library-hero__buttons">
      <button class="my-library-hero__btn my-library-hero__btn--trailer" id="my-library-hero-trailer-btn">
        Watch trailer
      </button>
      <button class="my-library-hero__btn my-library-hero__btn--details" id="my-library-hero-details-btn">
        More details
      </button>
    </div>
  `,Yt(e.id)}function Yt(e){const t=document.getElementById("my-library-hero-details-btn"),n=document.getElementById("my-library-hero-trailer-btn");if(t){const o=t.cloneNode(!0);t.parentNode.replaceChild(o,t),o.addEventListener("click",()=>zt(e))}if(n){const o=n.cloneNode(!0);n.parentNode.replaceChild(o,n),o.addEventListener("click",()=>Gt(e))}}function zt(e){typeof A=="function"?A(e):typeof window.openMoviePopup=="function"?window.openMoviePopup(e):(console.error("Movie popup is not ready."),X())}async function Gt(e){var t;At();try{const n=await fetch(`${h}/movie/${e}/videos?api_key=${g}&language=en-us`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=(t=(await n.json()).results)==null?void 0:t.find(i=>i.type==="Trailer"&&i.site==="YouTube");r?Rt(r.key):X()}catch(n){console.error("Error loading trailer:",n),X()}finally{qt()}}function ee(){const e=document.querySelector(".my-library-hero"),t=document.querySelector(".my-library-hero__overlay");e&&(e.style.backgroundImage=`url('${Se}')`),t&&(t.innerHTML=`
    <h1 class="my-library-hero__title">Create Your Dream Cinema</h1>
    <p class="my-library-hero__description">
      Is a guide to designing a personalized movie theater experience with the right equipment,
      customized decor, and favorite films.
    </p>
  `)}document.addEventListener("DOMContentLoaded",()=>{if(!document.querySelector(".my-library-hero"))return;Ht(),Be();const e=document.querySelector(".my-library-error__close");e&&e.addEventListener("click",j);const t=document.getElementById("my-library-error-popup");t&&t.addEventListener("click",r=>{r.target.id==="my-library-error-popup"&&j()});const n=document.querySelector(".close-my-library-video");n&&n.addEventListener("click",O);const o=document.getElementById("my-library-video-modal");o&&o.addEventListener("click",r=>{r.target.id==="my-library-video-modal"&&O()}),document.addEventListener("keydown",r=>{if(r.key==="Escape"){const i=document.getElementById("my-library-error-popup");i!=null&&i.classList.contains("show")&&j();const s=document.getElementById("my-library-video-modal");s&&!s.classList.contains("modal-hidden")&&O()}})});const jt=[{name:"Çiğdem Ergal",role:"Team Lead",image:new URL("/cinemania/assets/cigdem-CDFsF4Yh.webp",import.meta.url).href,github:"https://github.com/CigdemErgal",linkedin:"https://www.linkedin.com/in/%C3%A7i%C4%9Fdem-ergal/"},{name:"Halenur Gürel",role:"Scrum Master",image:new URL("/cinemania/assets/halenur-DoTIAj_A.webp",import.meta.url).href,github:"https://github.com/halenurgurel",linkedin:"https://www.linkedin.com/in/halenurgurel/"},{name:"Ali Hamza Çakmak",role:"Developer",image:new URL("../images/footer/ali.webp",import.meta.url).href,github:"https://github.com/MRMARUL",linkedin:"https://www.linkedin.com/in/ali-hamza-%C3%A7akmak-8112553a8/"},{name:"Aslıhan Erdal",role:"Developer",image:new URL("/cinemania/assets/aslihan-BOCxFPsO.webp",import.meta.url).href,github:"https://github.com/ERDLL0",linkedin:"https://www.linkedin.com/in/aslihan-erdal/"},{name:"Burak Gökay",role:"Developer",image:new URL("/cinemania/assets/burak-BwzLELfX.webp",import.meta.url).href,github:"https://github.com/bgokay007-tech",linkedin:"https://www.linkedin.com/in/burak-g%C3%B6kay-196b66348/"},{name:"Kerem Yıldırım",role:"Developer",image:new URL("/cinemania/assets/kerem-B31FZSud.webp",import.meta.url).href,github:"https://github.com/keremyldrm61",linkedin:"https://www.linkedin.com/in/kerem-y%C4%B1ld%C4%B1r%C4%B1m-0053a5191/"},{name:"Kutluhan Gül",role:"Developer",image:new URL("/cinemania/assets/kutluhan-Bf_P6Q0L.webp",import.meta.url).href,github:"https://github.com/kutluhangil",linkedin:"https://www.linkedin.com/in/kutluhangil/"},{name:"Nur Seda Ağgünlü",role:"Developer",image:new URL("/cinemania/assets/nurseda-DC7mgIBj.webp",import.meta.url).href,github:"https://github.com/nursedaaggunlu",linkedin:"https://www.linkedin.com/in/nur-seda-aggunlu/"},{name:"Yusuf Soylu",role:"Developer",image:new URL("/cinemania/assets/yusuf-whWyECjA.webp",import.meta.url).href,github:"https://github.com/soylu1092",linkedin:"https://www.linkedin.com/in/yusuf-soylu-525236306/"},{name:"Zehra Yazıcı",role:"Developer",image:new URL("/cinemania/assets/zehra-pTW0uimo.webp",import.meta.url).href,github:"https://github.com/zehrayazici",linkedin:"https://www.linkedin.com/in/zehrayazici/"}],H={github:new URL("data:image/svg+xml,%3csvg%20width='2500'%20height='2432'%20viewBox='0%200%20256%20249'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cg%20fill='%23161614'%3e%3cpath%20d='M127.505%200C57.095%200%200%2057.085%200%20127.505c0%2056.336%2036.534%20104.13%2087.196%20120.99%206.372%201.18%208.712-2.766%208.712-6.134%200-3.04-.119-13.085-.173-23.739-35.473%207.713-42.958-15.044-42.958-15.044-5.8-14.738-14.157-18.656-14.157-18.656-11.568-7.914.872-7.752.872-7.752%2012.804.9%2019.546%2013.14%2019.546%2013.14%2011.372%2019.493%2029.828%2013.857%2037.104%2010.6%201.144-8.242%204.449-13.866%208.095-17.05-28.32-3.225-58.092-14.158-58.092-63.014%200-13.92%204.981-25.295%2013.138-34.224-1.324-3.212-5.688-16.18%201.235-33.743%200%200%2010.707-3.427%2035.073%2013.07%2010.17-2.826%2021.078-4.242%2031.914-4.29%2010.836.048%2021.752%201.464%2031.942%204.29%2024.337-16.497%2035.029-13.07%2035.029-13.07%206.94%2017.563%202.574%2030.531%201.25%2033.743%208.175%208.929%2013.122%2020.303%2013.122%2034.224%200%2048.972-29.828%2059.756-58.22%2062.912%204.573%203.957%208.648%2011.717%208.648%2023.612%200%2017.06-.148%2030.791-.148%2034.991%200%203.393%202.295%207.369%208.759%206.117%2050.634-16.879%2087.122-64.656%2087.122-120.973C255.009%2057.085%20197.922%200%20127.505%200'/%3e%3cpath%20d='M47.755%20181.634c-.28.633-1.278.823-2.185.389-.925-.416-1.445-1.28-1.145-1.916.275-.652%201.273-.834%202.196-.396.927.415%201.455%201.287%201.134%201.923M54.027%20187.23c-.608.564-1.797.302-2.604-.589-.834-.889-.99-2.077-.373-2.65.627-.563%201.78-.3%202.616.59.834.899.996%202.08.36%202.65M58.33%20194.39c-.782.543-2.06.034-2.849-1.1-.781-1.133-.781-2.493.017-3.038.792-.545%202.05-.055%202.85%201.07.78%201.153.78%202.513-.019%203.069M65.606%20202.683c-.699.77-2.187.564-3.277-.488-1.114-1.028-1.425-2.487-.724-3.258.707-.772%202.204-.555%203.302.488%201.107%201.026%201.445%202.496.7%203.258M75.01%20205.483c-.307.998-1.741%201.452-3.185%201.028-1.442-.437-2.386-1.607-2.095-2.616.3-1.005%201.74-1.478%203.195-1.024%201.44.435%202.386%201.596%202.086%202.612M85.714%20206.67c.036%201.052-1.189%201.924-2.705%201.943-1.525.033-2.758-.818-2.774-1.852%200-1.062%201.197-1.926%202.721-1.951%201.516-.03%202.758.815%202.758%201.86M96.228%20206.267c.182%201.026-.872%202.08-2.377%202.36-1.48.27-2.85-.363-3.039-1.38-.184-1.052.89-2.105%202.367-2.378%201.508-.262%202.857.355%203.049%201.398'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,linkedin:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%3e%3c!--!%20Font%20Awesome%20Pro%206.4.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license%20(Commercial%20License)%20Copyright%202023%20Fonticons,%20Inc.%20--%3e%3cpath%20d='M100.28%20448H7.4V148.9h92.88zM53.79%20108.1C24.09%20108.1%200%2083.5%200%2053.8a53.79%2053.79%200%200%201%20107.58%200c0%2029.7-24.1%2054.3-53.79%2054.3zM447.9%20448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29%200-55.69%2037.7-55.69%2076.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5%2042.69-48.3%2087.88-48.3%2094%200%20111.28%2061.9%20111.28%20142.3V448z'/%3e%3c/svg%3e",import.meta.url).href};function Ot(e){return`
    <li class="team-card">
      <img
        src="${e.image}"
        alt="${e.name}"
        class="team-image"
        loading="lazy"
        onerror="this.src='https://placehold.co/200x200?text=${encodeURIComponent(e.name)}'"
      />
      <h3 class="team-name">${e.name}</h3>
      <p class="team-role">${e.role}</p>
      <div class="social-links">
        <a href="${e.github}" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="GitHub">
          <span class="social-mask-icon" style="-webkit-mask-image: url('${H.github}'); mask-image: url('${H.github}');"></span>
        </a>
        <a href="${e.linkedin}" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="LinkedIn">
           <span class="social-mask-icon" style="-webkit-mask-image: url('${H.linkedin}'); mask-image: url('${H.linkedin}');"></span>
        </a>
      </div>
    </li>
  `}function Vt(){const e=document.querySelector(".team-list");if(!e)return;const t=jt.map(Ot).join("");e.innerHTML=t}function Kt(){const e=document.querySelector("#footer-link"),t=document.querySelector(".backdrop"),n=document.querySelector("[data-modal-close]");if(!e||!t)return;Vt();const o=i=>{i.preventDefault(),t.classList.remove("is-hidden"),document.body.style.overflow="hidden"},r=()=>{t.classList.add("is-hidden"),document.body.style.overflow=""};e.addEventListener("click",o),n&&n.addEventListener("click",r),t.addEventListener("click",i=>{i.target===t&&r()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&!t.classList.contains("is-hidden")&&r()})}const P=document.querySelector(".scroll-to-top");P&&(window.addEventListener("scroll",()=>{window.scrollY>300?P.classList.add("is-visible"):P.classList.remove("is-visible")}),P.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));document.addEventListener("DOMContentLoaded",()=>{De(),Kt(),document.querySelector(".library-section")!==null?(Be(),St()):(Ze(),pt(),Ke())});
//# sourceMappingURL=main-D4OZ5fS3.js.map
