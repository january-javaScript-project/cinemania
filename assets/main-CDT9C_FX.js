/* empty css               */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const H="cinemania-theme",M="dark",y="light";function B(e){const t=document.body;t.classList.remove("dark-theme","light-theme"),e===y?t.classList.add("light-theme"):t.classList.add("dark-theme")}function P(){return localStorage.getItem(H)===y?y:M}function N(e){localStorage.setItem(H,e)}function F(){const e=document.querySelector(".theme-toggle");e&&(B(P()),e.addEventListener("click",()=>{const s=(document.body.classList.contains("light-theme")?y:M)===y?M:y;B(s),N(s)}))}function G(){const e=document.querySelector(".burger-btn"),t=document.querySelector("[data-menu]");if(!e||!t)return;const s=()=>t.classList.remove("is-hidden"),i=()=>t.classList.add("is-hidden");e.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),t.classList.contains("is-hidden")?s():i()}),t.addEventListener("click",o=>{o.target===t&&i()}),t.addEventListener("click",o=>{o.target.closest(".mobile-menu-link")&&i()}),window.addEventListener("keydown",o=>{o.key==="Escape"&&i()})}function R(){F(),G()}const m="6e2b9ceff6313b472d60eed2769db38a",g="https://api.themoviedb.org/3",j="https://image.tmdb.org/t/p/w500";async function O(){try{const e=await fetch(`${g}/trending/movie/day?api_key=${m}`);if(!e.ok)throw new Error("Veri Ã§ekilemedi!");return(await e.json()).results}catch(e){return console.error("Hata:",e),[]}}function U(){let e="",t="",s=!1,i={};const o=document.getElementById("moviesContainer"),a=document.getElementById("emptyMessage");if(!o||!a)return;const c=document.querySelector(".search-input"),E=document.getElementById("clearSearch"),v=document.querySelector(".search-btn"),f=document.getElementById("yearBtn"),d=document.getElementById("yearDropdown"),b=document.getElementById("selectedYear");sessionStorage.getItem("scrollCatalog")==="true"&&(sessionStorage.removeItem("scrollCatalog"),setTimeout(()=>{const r=document.querySelector(".search-row");if(!r)return;const n=r.getBoundingClientRect().top+window.scrollY-20;window.scrollTo({top:n,behavior:"smooth"})},300));const h=document.querySelector(".search-input");if(!h)return;const L=h.parentElement;if(!L)return;const p=L.querySelector(".search-clear-btn");p&&(p.style.display="none");const $=E||p;function ne(r,n){}fetch(`${g}/genre/movie/list?api_key=${m}&language=en-US`).then(r=>r.json()).then(r=>{(r.genres||[]).forEach(n=>i[n.id]=n.name)}).catch(r=>console.error("genre list error:",r)),L.addEventListener("click",r=>{const n=r.target.closest(".search-clear-btn");n&&(h.value="",h.focus(),n.style.display="none")}),L.addEventListener("input",r=>{if(r.target!==h)return;const n=L.querySelector(".search-clear-btn");n&&(n.style.display=h.value?"block":"none")}),p&&p.addEventListener("click",()=>{c.value="",c.focus(),p.style.display="none"});function w(r){if(!d||!f)return;d.classList.toggle("open",r),f.classList.toggle("open",r),d.style.transform=r?"scaleY(1)":"scaleY(0)",d.style.opacity=r?"1":"0",d.style.pointerEvents=r?"auto":"none";const n=f.querySelector(".icon-chevron");n&&(n.style.transform=r?"rotate(180deg)":"rotate(0deg)")}f&&d&&(f.addEventListener("click",r=>{r.stopPropagation();const n=!d.classList.contains("open");w(n)}),d.addEventListener("click",r=>{r.stopPropagation(),r.target.tagName==="LI"&&(e=r.target.dataset.year||"",b.textContent=r.target.textContent,w(!1))})),document.addEventListener("click",r=>{!d||!f||d.classList.contains("open")&&!d.contains(r.target)&&!f.contains(r.target)&&w(!1)}),v&&v.addEventListener("click",()=>{if(t=c.value.trim(),s=!0,!t&&!e){s=!1,k(1);return}x(1)}),$&&$.addEventListener("click",function(){c.value="",p&&(p.style.display="none"),b&&(b.textContent="Year"),t="",e="",s=!1,k(1)});function x(r=1){let n="";t?(n=`${g}/search/movie?api_key=${m}&query=${encodeURIComponent(t)}&page=${r}`,e&&(n+=`&year=${e}`)):(n=`${g}/discover/movie?api_key=${m}&page=${r}`,e&&(n+=`&primary_release_year=${e}`)),fetch(n).then(u=>u.json()).then(u=>{S(u.results||[]),u.total_results}).catch(u=>console.error("searchMovies error:",u))}k(1);function k(r=1){a.style.display="none",fetch(`${g}/trending/movie/week?api_key=${m}&page=${r}`).then(n=>n.json()).then(n=>{S(n.results||[]),n.total_results}).catch(n=>console.error("fetchTrending error:",n))}function S(r){if(o.innerHTML="",!r.length){a.style.display=s?"block":"none";return}a.style.display="none",r.slice(0,20).forEach(n=>{var T,_;const u=document.createElement("a");u.className="movie-card",u.setAttribute("data-id",n.id),u.href=`catalog-list.html?id=${n.id}`;const q=n.poster_path?`${j}${n.poster_path}`:"https://placehold.co/600x400",A=((T=n.release_date)==null?void 0:T.slice(0,4))||"N/A",D=((_=n.genre_ids)==null?void 0:_.map(Y=>i[Y]).filter(Boolean).slice(0,2).join(", "))||"Unknown";u.innerHTML=`
        <img src="${q}" alt="${n.title||"Movie"}">
        <div class="movie-card-overlay">
          <div class="movie-card-text">
            <h3>${n.title||"Untitled"}</h3>
            <div class="movie-meta">
              <span class="movie-genre">${D}</span>
              <span class="movie-year">| ${A}</span>
            </div>
          </div>
          <div class="movie-rating-stars"></div>
        </div>
      `,o.appendChild(u),z(u.querySelector(".movie-rating-stars"),n.vote_average)})}}function z(e,t){if(!e)return;e.innerHTML="";const s=Math.floor(t/2),i=t%2>=1;for(let o=0;o<5;o++){let a="empty";o<s?a="full":o===s&&i&&(a="half");const c=`star-${Math.random().toString(36).slice(2)}`;e.innerHTML+=`
        <svg viewBox="0 0 32 32" width="14" height="14">
        <defs>
          <linearGradient id="${c}-full" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#F84119"/>
            <stop offset="100%" stop-color="#F89F19"/>
          </linearGradient>
          <linearGradient id="${c}-half" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#F84119"/>
            <stop offset="50%" stop-color="#F89F19"/>
            <stop offset="50%" stop-color="#bfbfbf"/>
            <stop offset="100%" stop-color="#bfbfbf"/>
          </linearGradient>
        </defs>
        <path
          d="M24.622 30L16 24.173 7.378 30l3.135-9.286L2.388 15.14h10.024L16 5.827l3.588 9.313h10.024l-8.125 5.569z"
          fill="${a==="full"?`url(#${c}-full)`:a==="half"?`url(#${c}-half)`:"#bfbfbf"}"
        />
      </svg>
        `}}function K(e="Loading..."){const t=document.createElement("div");t.className="app-loader",t.setAttribute("role","status"),t.setAttribute("aria-live","polite");const s=document.createElement("div");s.className="app-loader__spinner",s.setAttribute("aria-hidden","true");const i=document.createElement("span");return i.className="app-loader__text",i.textContent=e,t.appendChild(s),t.appendChild(i),t}const V="https://image.tmdb.org/t/p/original",l=e=>document.getElementById(e);async function Q(){ee();try{const e=await O();if(e&&e.length>0){const t=e[Math.floor(Math.random()*e.length)];J(t)}else C()}catch{C()}finally{te()}}function J(e){const t=l("hero"),s=l("hero-title"),i=l("hero-description"),o=l("watch-trailer"),a=l("more-details"),c=l("hero-rating");if(t&&(t.classList.remove("hero-default"),t.style.backgroundImage=`url(${V}${e.backdrop_path})`),s&&(s.innerText=e.title),i&&(i.innerText=e.overview.slice(0,150)+"..."),o&&(o.onclick=()=>W(e.id)),a&&(a.onclick=()=>{typeof openMoreDetailsModal=="function"?openMoreDetailsModal(e.id):console.log("Detaylar modalı henüz hazır değil.")}),c){const E=Math.round(e.vote_average/2);let v="";for(let f=1;f<=5;f++){const d=f<=E?"star-filled":"star-empty";v+=`<span class="star-item ${d}"></span>`}c.innerHTML=v}}async function W(e){try{const i=(await(await fetch(`${g}/movie/${e}/videos?api_key=${m}&language=en-US`)).json()).results.find(o=>o.type==="Trailer"&&o.site==="YouTube");i?X(i.key):I()}catch(t){console.error("Fragman yüklenirken hata oluştu:",t),I()}}function I(){const e=l("error-popup");e&&e.classList.add("show")}function X(e){const t=l("video-modal"),s=l("trailer-video");t&&s&&(s.src=`https://www.youtube.com/embed/${e}?autoplay=1`,t.classList.add("show"))}function Z(){const e=l("video-modal"),t=l("error-popup"),s=l("trailer-video"),i=document.querySelector(".close-video");i&&e&&s&&(i.onclick=()=>{e.classList.remove("show"),s.src=""});const o=document.querySelector("#error-popup .close-btn");o&&t&&(o.onclick=()=>{t.classList.remove("show")}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(e&&s&&(e.classList.remove("show"),s.src=""),t&&t.classList.remove("show"))}),window.onclick=a=>{a.target===e&&(e.classList.remove("show"),s.src=""),a.target===t&&t.classList.remove("show")}}function C(){const e=l("hero"),t=l("hero-title"),s=l("hero-description"),i=l("hero-rating"),o=document.querySelector(".hero-buttons");e&&(e.classList.add("hero-default"),e.style.backgroundImage="url(/src/assets/default-cover.png)"),t&&(t.innerText="Let's Make Your Own Cinema"),s&&(s.innerText="Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience."),i&&(i.innerHTML=""),o&&(o.innerHTML='<a class="btn btn-orange" href="/catalog.html">Get Started</a>')}function ee(){const e=document.querySelector(".hero-content");if(!e||e.querySelector(".app-loader"))return;const t=K("Loading...");t.id="hero-loader",e.prepend(t)}function te(){const e=document.getElementById("hero-loader");e&&e.remove()}async function oe(){Z(),await Q()}document.addEventListener("DOMContentLoaded",()=>{R()});document.addEventListener("DOMContentLoaded",()=>{U()});oe();
//# sourceMappingURL=main-CDT9C_FX.js.map
